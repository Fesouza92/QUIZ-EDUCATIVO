<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Educativo para Crian√ßas</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 40px;
            max-width: 700px;
            width: 100%;
            text-align: center;
        }

        h1 {
            color: #4a5568;
            margin-bottom: 10px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            color: #718096;
            margin-bottom: 30px;
            font-size: 1.2em;
        }

        .start-screen, .subject-screen, .mode-screen, .quiz-screen, .result-screen, .multiplayer-screen {
            display: none;
        }

        .start-screen.active, .subject-screen.active, .mode-screen.active, .quiz-screen.active, .result-screen.active, .multiplayer-screen.active {
            display: block;
        }

        .btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
            font-family: inherit;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: linear-gradient(45deg, #74b9ff, #0984e3);
        }

        .btn-success {
            background: linear-gradient(45deg, #00b894, #00a085);
        }

        .btn-multiplayer {
            background: linear-gradient(45deg, #a29bfe, #6c5ce7);
        }

        .btn-portugues {
            background: linear-gradient(45deg, #fd79a8, #e84393);
        }

        .btn-matematica {
            background: linear-gradient(45deg, #fdcb6e, #e17055);
        }

        .question {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
        }

        .question-text {
            font-size: 1.5em;
            color: #2d3748;
            margin-bottom: 20px;
        }

        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .option {
            background: white;
            border: 3px solid #e2e8f0;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
            color: #4a5568;
        }

        .option:hover {
            border-color: #667eea;
            background: #f7fafc;
            transform: translateY(-2px);
        }

        .option.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .option.correct {
            border-color: #00b894;
            background: #00b894;
            color: white;
        }

        .option.incorrect {
            border-color: #e74c3c;
            background: #e74c3c;
            color: white;
        }

        .progress {
            background: #e2e8f0;
            height: 10px;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(45deg, #667eea, #764ba2);
            height: 100%;
            transition: width 0.3s ease;
        }

        .score {
            font-size: 1.3em;
            color: #4a5568;
            margin: 20px 0;
        }

        .timer {
            background: #ff6b6b;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            display: inline-block;
            margin: 10px;
            font-weight: bold;
        }

        .feedback {
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .stars {
            font-size: 2em;
            margin: 20px 0;
        }

        .star {
            color: #ffd700;
            margin: 0 5px;
        }

        .star.empty {
            color: #e2e8f0;
        }

        .player-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            border: 3px solid transparent;
        }

        .player-info.active {
            border-color: #667eea;
            background: #e8f4fd;
        }

        .player-info.player1 {
            border-left-color: #ff6b6b;
        }

        .player-info.player2 {
            border-left-color: #74b9ff;
        }

        .player-name {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .player-score {
            font-size: 1.1em;
            color: #4a5568;
        }

        .turn-indicator {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 15px 25px;
            border-radius: 25px;
            margin: 20px 0;
            font-weight: bold;
            font-size: 1.2em;
        }

        .winner-announcement {
            background: linear-gradient(45deg, #00b894, #00a085);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            font-size: 1.3em;
            font-weight: bold;
        }

        .tie-announcement {
            background: linear-gradient(45deg, #fdcb6e, #e17055);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            font-size: 1.3em;
            font-weight: bold;
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Tela de In√≠cio -->
        <div class="start-screen active">
            <h1>üéì Quiz Educativo üéì</h1>
            <p class="subtitle">Divirta-se aprendendo!</p>
            <p style="color: #718096; margin-bottom: 30px;">Para crian√ßas de 7 a 12 anos</p>
            
            <div style="margin: 30px 0;">
                <h3 style="color: #4a5568; margin-bottom: 15px;">Escolha a mat√©ria:</h3>
                <button class="btn btn-portugues" onclick="showSubjectScreen('portugues')">üìö Portugu√™s</button>
                <button class="btn btn-matematica" onclick="showSubjectScreen('matematica')">üßÆ Matem√°tica</button>
            </div>
            
            <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 15px;">
                <h4 style="color: #4a5568; margin-bottom: 10px;">Como jogar:</h4>
                <ul style="text-align: left; color: #718096; line-height: 1.6;">
                    <li>‚úÖ Escolha a mat√©ria (Portugu√™s ou Matem√°tica)</li>
                    <li>üéÆ Escolha o modo de jogo (1 ou 2 jogadores)</li>
                    <li>üßÆ Resolva as quest√µes</li>
                    <li>‚è±Ô∏è Voc√™ tem 30 segundos para cada pergunta</li>
                    <li>üèÜ Ganhe pontos e estrelas!</li>
                </ul>
            </div>
        </div>

        <!-- Tela de Sele√ß√£o de Mat√©ria -->
        <div class="subject-screen">
            <h2 id="subjectTitle">üìö Portugu√™s</h2>
            <p style="color: #718096; margin-bottom: 30px;">Escolha o modo de jogo</p>
            
            <div style="margin: 30px 0;">
                <button class="btn" onclick="showModeScreen()">üéØ Jogador √önico</button>
                <button class="btn btn-multiplayer" onclick="startMultiplayer()">üë• Dois Jogadores</button>
            </div>
            
            <button class="btn btn-secondary" onclick="showStartScreen()">Voltar ao In√≠cio</button>
        </div>

        <!-- Tela de Sele√ß√£o de Modo (Jogador √önico) -->
        <div class="mode-screen">
            <h2 id="modeTitle">üéØ Modo Jogador √önico</h2>
            <p style="color: #718096; margin-bottom: 30px;">Escolha o n√≠vel de dificuldade</p>
            
            <div style="margin: 30px 0;">
                <button class="btn" onclick="startQuiz('facil')">F√°cil (7-9 anos)</button>
                <button class="btn btn-secondary" onclick="startQuiz('medio')">M√©dio (10-12 anos)</button>
            </div>
            
            <button class="btn btn-secondary" onclick="showSubjectScreen()">Voltar</button>
        </div>

        <!-- Tela do Quiz (Jogador √önico) -->
        <div class="quiz-screen">
            <h2>Quest√£o <span id="questionNumber">1</span> de <span id="totalQuestions">10</span></h2>
            
            <div class="progress">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            
            <div class="timer" id="timer">30s</div>
            
            <div class="question">
                <div class="question-text" id="questionText"></div>
                <div class="options" id="options"></div>
            </div>
            
            <div class="score">Pontua√ß√£o: <span id="currentScore">0</span></div>
            
            <div id="feedback" class="feedback" style="display: none;"></div>
            
            <button class="btn" id="nextBtn" style="display: none;" onclick="nextQuestion()">Pr√≥xima Quest√£o</button>
        </div>

        <!-- Tela de Resultados (Jogador √önico) -->
        <div class="result-screen">
            <h2>üéâ Quiz Conclu√≠do! üéâ</h2>
            
            <div class="stars" id="stars"></div>
            
            <div class="score">
                <h3>Sua pontua√ß√£o final: <span id="finalScore">0</span></h3>
                <p>Acertos: <span id="correctAnswers">0</span> de <span id="totalCorrect">10</span></p>
            </div>
            
            <div style="margin: 30px 0;">
                <h4 style="color: #4a5568; margin-bottom: 15px;">Parab√©ns!</h4>
                <p style="color: #718096; line-height: 1.6;" id="finalMessage"></p>
            </div>
            
            <button class="btn" onclick="restartQuiz()">Jogar Novamente</button>
            <button class="btn btn-secondary" onclick="showStartScreen()">Voltar ao In√≠cio</button>
        </div>

        <!-- Tela Multiplayer -->
        <div class="multiplayer-screen">
            <h2 id="multiplayerTitle">üë• Modo Dois Jogadores</h2>
            <p style="color: #718096; margin-bottom: 30px;">Escolha o n√≠vel e comece a competir!</p>
            
            <div style="margin: 30px 0;">
                <h3 style="color: #4a5568; margin-bottom: 15px;">Escolha o n√≠vel:</h3>
                <button class="btn" onclick="startMultiplayerQuiz('facil')">F√°cil (7-9 anos)</button>
                <button class="btn btn-secondary" onclick="startMultiplayerQuiz('medio')">M√©dio (10-12 anos)</button>
            </div>
            
            <button class="btn btn-secondary" onclick="showSubjectScreen()">Voltar</button>
        </div>
    </div>

    <script>
        // Configura√ß√µes do quiz de portugu√™s
        const portuguesConfig = {
            facil: {
                name: "Portugu√™s F√°cil",
                questions: [
                    {
                        question: "Qual √© o plural de 'casa'?",
                        options: ["casas", "casa", "casos", "casais"],
                        correct: 0
                    },
                    {
                        question: "Complete: 'Eu _____ de estudar portugu√™s.'",
                        options: ["gosto", "gosta", "gostam", "gostamos"],
                        correct: 0
                    },
                    {
                        question: "Qual √© o ant√¥nimo de 'grande'?",
                        options: ["enorme", "pequeno", "alto", "largo"],
                        correct: 1
                    },
                    {
                        question: "Qual palavra tem acento?",
                        options: ["casa", "mesa", "caf√©", "bola"],
                        correct: 2
                    },
                    {
                        question: "Complete: 'A menina _____ bonita.'",
                        options: ["√©", "s√£o", "t√°", "est√£o"],
                        correct: 0
                    },
                    {
                        question: "Qual √© o feminino de 'menino'?",
                        options: ["menina", "meninas", "meninos", "menininhos"],
                        correct: 0
                    },
                    {
                        question: "Qual palavra rima com 'bola'?",
                        options: ["casa", "igreja", "cola", "mesa"],
                        correct: 2
                    },
                    {
                        question: "Complete: 'N√≥s _____ amigos.'",
                        options: ["sou", "√©", "s√£o", "somos"],
                        correct: 3
                    },
                    {
                        question: "Qual √© o plural de 'livro'?",
                        options: ["livros", "livro", "livrinhos", "livr√£o"],
                        correct: 0
                    },
                    {
                        question: "Qual palavra tem 3 s√≠labas?",
                        options: ["casa", "escola", "livro", "bola"],
                        correct: 1
                    }
                ]
            },
            medio: {
                name: "Portugu√™s M√©dio",
                questions: [
                    {
                        question: "Qual √© o sin√¥nimo de 'alegre'?",
                        options: ["triste", "feliz", "cansado", "bravo"],
                        correct: 1
                    },
                    {
                        question: "Complete: 'Se eu _____ tempo, eu _____ ao cinema.'",
                        options: ["temos, vou", "tivesse, iria", "teria, fui", "tive, vou"],
                        correct: 1
                    },
                    {
                        question: "Qual palavra √© um substantivo abstrato?",
                        options: ["casa", "amor", "carro", "livro"],
                        correct: 1
                    },
                    {
                        question: "Qual √© o aumentativo de 'casa'?",
                        options: ["casinha", "casa", "casar√£o", "cas√£o"],
                        correct: 2
                    },
                    {
                        question: "Complete: '_____ que voc√™ venha √† festa.'",
                        options: ["Espero", "Espera", "Esperam", "Esperei"],
                        correct: 0
                    },
                    {
                        question: "Qual palavra √© um verbo no infinitivo?",
                        options: ["correndo", "correu", "correr", "corre"],
                        correct: 2
                    },
                    {
                        question: "Qual √© o plural de 'papel'?",
                        options: ["pap√©us", "papel", "pap√©is", "papel√µes"],
                        correct: 2
                    },
                    {
                        question: "Complete: 'Eles _____ muito bem.'",
                        options: ["estuda", "estudam", "estudo", "estudamos"],
                        correct: 1
                    },
                    {
                        question: "Qual palavra √© um adjetivo?",
                        options: ["rapidamente", "rapidez", "r√°pido", "rapidar"],
                        correct: 2
                    },
                    {
                        question: "Qual √© o diminutivo de 'c√£o'?",
                        options: ["c√£ozinho", "c√£o", "c√£es", "c√£ezinhos"],
                        correct: 0
                    }
                ]
            }
        };

        // Configura√ß√µes do quiz de matem√°tica
        const matematicaConfig = {
            facil: {
                name: "Matem√°tica F√°cil",
                questions: [
                    {
                        question: "Quanto √© 5 + 3?",
                        options: ["6", "7", "8", "9"],
                        correct: 2
                    },
                    {
                        question: "Quanto √© 10 - 4?",
                        options: ["4", "5", "6", "7"],
                        correct: 2
                    },
                    {
                        question: "Quanto √© 2 √ó 4?",
                        options: ["6", "7", "8", "9"],
                        correct: 2
                    },
                    {
                        question: "Quanto √© 12 √∑ 3?",
                        options: ["3", "4", "5", "6"],
                        correct: 1
                    },
                    {
                        question: "Quanto √© 7 + 5?",
                        options: ["10", "11", "12", "13"],
                        correct: 2
                    },
                    {
                        question: "Quanto √© 15 - 8?",
                        options: ["5", "6", "7", "8"],
                        correct: 2
                    },
                    {
                        question: "Quanto √© 3 √ó 6?",
                        options: ["15", "16", "17", "18"],
                        correct: 3
                    },
                    {
                        question: "Quanto √© 20 √∑ 4?",
                        options: ["4", "5", "6", "7"],
                        correct: 1
                    },
                    {
                        question: "Quanto √© 9 + 6?",
                        options: ["13", "14", "15", "16"],
                        correct: 2
                    },
                    {
                        question: "Quanto √© 18 - 9?",
                        options: ["7", "8", "9", "10"],
                        correct: 2
                    }
                ]
            },
            medio: {
                name: "Matem√°tica M√©dia",
                questions: [
                    {
                        question: "Quanto √© 25 + 37?",
                        options: ["60", "61", "62", "63"],
                        correct: 2
                    },
                    {
                        question: "Quanto √© 84 - 29?",
                        options: ["53", "54", "55", "56"],
                        correct: 2
                    },
                    {
                        question: "Quanto √© 7 √ó 8?",
                        options: ["54", "55", "56", "57"],
                        correct: 2
                    },
                    {
                        question: "Quanto √© 72 √∑ 9?",
                        options: ["7", "8", "9", "10"],
                        correct: 1
                    },
                    {
                        question: "Quanto √© 156 + 44?",
                        options: ["190", "200", "210", "220"],
                        correct: 1
                    },
                    {
                        question: "Quanto √© 200 - 67?",
                        options: ["123", "133", "143", "153"],
                        correct: 1
                    },
                    {
                        question: "Quanto √© 12 √ó 11?",
                        options: ["120", "130", "132", "142"],
                        correct: 2
                    },
                    {
                        question: "Quanto √© 144 √∑ 12?",
                        options: ["10", "11", "12", "13"],
                        correct: 2
                    },
                    {
                        question: "Quanto √© 89 + 156?",
                        options: ["235", "245", "255", "265"],
                        correct: 1
                    },
                    {
                        question: "Quanto √© 300 - 89?",
                        options: ["201", "211", "221", "231"],
                        correct: 1
                    }
                ]
            }
        };

        // Vari√°veis globais
        let currentSubject = '';
        let currentLevel = '';
        let currentQuestion = 0;
        let score = 0;
        let timer;
        let timeLeft = 30;
        let questions = [];
        let multiplayerMode = false;
        let currentPlayer = 1;
        let player1Score = 0;
        let player2Score = 0;
        let player1Name = "Jogador 1";
        let player2Name = "Jogador 2";

        function showStartScreen() {
            document.querySelectorAll('.start-screen, .subject-screen, .mode-screen, .quiz-screen, .result-screen, .multiplayer-screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.querySelector('.start-screen').classList.add('active');
            
            // Reset de todas as vari√°veis
            currentSubject = '';
            currentLevel = '';
            currentQuestion = 0;
            score = 0;
            timeLeft = 30;
            clearInterval(timer);
            multiplayerMode = false;
            currentPlayer = 1;
            player1Score = 0;
            player2Score = 0;
        }

        function showSubjectScreen(subject) {
            currentSubject = subject;
            const subjectTitle = document.getElementById('subjectTitle');
            const subjectName = subject === 'portugues' ? 'üìö Portugu√™s' : 'üßÆ Matem√°tica';
            subjectTitle.textContent = subjectName;
            
            document.querySelector('.start-screen').classList.remove('active');
            document.querySelector('.subject-screen').classList.add('active');
        }

        function showModeScreen() {
            const modeTitle = document.getElementById('modeTitle');
            const subjectName = currentSubject === 'portugues' ? 'Portugu√™s' : 'Matem√°tica';
            modeTitle.textContent = `üéØ Modo Jogador √önico - ${subjectName}`;
            
            document.querySelector('.subject-screen').classList.remove('active');
            document.querySelector('.mode-screen').classList.add('active');
        }

        function startMultiplayer() {
            const multiplayerTitle = document.getElementById('multiplayerTitle');
            const subjectName = currentSubject === 'portugues' ? 'Portugu√™s' : 'Matem√°tica';
            multiplayerTitle.textContent = `üë• Modo Dois Jogadores - ${subjectName}`;
            
            document.querySelector('.subject-screen').classList.remove('active');
            document.querySelector('.multiplayer-screen').classList.add('active');
        }

        function startMultiplayerQuiz(level) {
            multiplayerMode = true;
            currentLevel = level;
            questions = getQuestions(currentSubject, level);
            currentQuestion = 0;
            currentPlayer = 1;
            player1Score = 0;
            player2Score = 0;
            
            document.querySelector('.multiplayer-screen').classList.remove('active');
            showMultiplayerQuiz();
        }

        function getQuestions(subject, level) {
            if (subject === 'portugues') {
                return portuguesConfig[level].questions;
            } else {
                return matematicaConfig[level].questions;
            }
        }

        function showMultiplayerQuiz() {
            const question = questions[currentQuestion];
            const subjectName = currentSubject === 'portugues' ? 'Portugu√™s' : 'Matem√°tica';
            
            // Criar interface multiplayer
            const container = document.querySelector('.container');
            container.innerHTML = `
                <h2>üë• Quiz de ${subjectName} - Dois Jogadores</h2>
                <p style="color: #718096; margin-bottom: 20px;">N√≠vel: ${currentLevel === 'facil' ? 'F√°cil' : 'M√©dio'}</p>
                
                <div class="turn-indicator">
                    üéØ Vez do ${currentPlayer === 1 ? player1Name : player2Name}!
                </div>
                
                <div style="display: flex; justify-content: space-between; margin: 20px 0;">
                    <div class="player-info player1 ${currentPlayer === 1 ? 'active' : ''}">
                        <div class="player-name">${player1Name}</div>
                        <div class="player-score">Pontua√ß√£o: ${player1Score}</div>
                    </div>
                    <div class="player-info player2 ${currentPlayer === 2 ? 'active' : ''}">
                        <div class="player-name">${player2Name}</div>
                        <div class="player-score">Pontua√ß√£o: ${player2Score}</div>
                    </div>
                </div>
                
                <div class="progress">
                    <div class="progress-bar" style="width: ${((currentQuestion + 1) / questions.length) * 100}%"></div>
                </div>
                
                <div class="timer" id="timer">30s</div>
                
                <div class="question">
                    <div class="question-text">Quest√£o ${currentQuestion + 1} de ${questions.length}: ${question.question}</div>
                    <div class="options" id="options"></div>
                </div>
                
                <div id="feedback" class="feedback" style="display: none;"></div>
                
                <button class="btn" id="nextBtn" style="display: none;" onclick="nextMultiplayerQuestion()">Pr√≥xima Quest√£o</button>
            `;
            
            // Adicionar op√ß√µes
            const optionsContainer = document.getElementById('options');
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectMultiplayerOption(index);
                optionsContainer.appendChild(optionDiv);
            });
            
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('feedback').style.display = 'none';
            
            // Reset timer
            timeLeft = 30;
            startTimer();
        }

        function selectMultiplayerOption(selectedIndex) {
            const question = questions[currentQuestion];
            const options = document.querySelectorAll('.option');
            
            // Desabilitar todas as op√ß√µes
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            // Marcar a op√ß√£o selecionada
            options[selectedIndex].classList.add('selected');
            
            // Verificar se est√° correta
            if (selectedIndex === question.correct) {
                options[selectedIndex].classList.add('correct');
                if (currentPlayer === 1) {
                    player1Score += 10;
                } else {
                    player2Score += 10;
                }
                showMultiplayerFeedback('Parab√©ns! Resposta correta! üéâ', 'correct');
            } else {
                options[selectedIndex].classList.add('incorrect');
                options[question.correct].classList.add('correct');
                showMultiplayerFeedback('Ops! A resposta correta √©: ' + question.options[question.correct], 'incorrect');
            }
            
            // Parar o timer
            clearInterval(timer);
            
            // Mostrar bot√£o para pr√≥xima quest√£o
            document.getElementById('nextBtn').style.display = 'inline-block';
            
            // Atualizar pontua√ß√µes na tela
            updateMultiplayerScores();
        }

        function showMultiplayerFeedback(message, type) {
            const feedback = document.getElementById('feedback');
            feedback.textContent = message;
            feedback.className = `feedback ${type}`;
            feedback.style.display = 'block';
        }

        function updateMultiplayerScores() {
            const player1Info = document.querySelector('.player-info.player1 .player-score');
            const player2Info = document.querySelector('.player-info.player2 .player-score');
            
            if (player1Info) player1Info.textContent = `Pontua√ß√£o: ${player1Score}`;
            if (player2Info) player2Info.textContent = `Pontua√ß√£o: ${player2Score}`;
        }

        function nextMultiplayerQuestion() {
            currentQuestion++;
            
            if (currentQuestion < questions.length) {
                // Alternar jogador
                currentPlayer = currentPlayer === 1 ? 2 : 1;
                showMultiplayerQuiz();
            } else {
                showMultiplayerResults();
            }
        }

        function showMultiplayerResults() {
            const container = document.querySelector('.container');
            let winnerMessage = '';
            let winnerClass = '';
            
            if (player1Score > player2Score) {
                winnerMessage = `üèÜ ${player1Name} venceu com ${player1Score} pontos!`;
                winnerClass = 'winner-announcement';
            } else if (player2Score > player1Score) {
                winnerMessage = `üèÜ ${player2Name} venceu com ${player2Score} pontos!`;
                winnerClass = 'winner-announcement';
            } else {
                winnerMessage = `ü§ù Empate! Ambos marcaram ${player1Score} pontos!`;
                winnerClass = 'tie-announcement';
            }
            
            container.innerHTML = `
                <h2>üéâ Quiz Multiplayer Conclu√≠do! üéâ</h2>
                
                <div class="${winnerClass}">
                    ${winnerMessage}
                </div>
                
                <div style="display: flex; justify-content: space-between; margin: 30px 0;">
                    <div class="player-info player1">
                        <div class="player-name">${player1Name}</div>
                        <div class="player-score">Pontua√ß√£o Final: ${player1Score}</div>
                        <div class="stars">
                            ${'‚≠ê'.repeat(Math.min(5, Math.ceil(player1Score / 20)))}
                        </div>
                    </div>
                    <div class="player-info player2">
                        <div class="player-name">${player2Name}</div>
                        <div class="player-score">Pontua√ß√£o Final: ${player2Score}</div>
                        <div class="stars">
                            ${'‚≠ê'.repeat(Math.min(5, Math.ceil(player2Score / 20)))}
                        </div>
                    </div>
                </div>
                
                <button class="btn" onclick="restartMultiplayerQuiz()">Jogar Novamente</button>
                <button class="btn btn-secondary" onclick="showStartScreen()">Voltar ao In√≠cio</button>
            `;
        }

        function restartMultiplayerQuiz() {
            currentQuestion = 0;
            currentPlayer = 1;
            player1Score = 0;
            player2Score = 0;
            showMultiplayerQuiz();
        }

        // Fun√ß√µes para modo jogador √∫nico
        function startQuiz(level) {
            multiplayerMode = false;
            currentLevel = level;
            questions = getQuestions(currentSubject, level);
            currentQuestion = 0;
            score = 0;
            
            document.querySelector('.mode-screen').classList.remove('active');
            document.querySelector('.quiz-screen').classList.add('active');
            
            showQuestion();
            startTimer();
        }

        function showQuestion() {
            const question = questions[currentQuestion];
            document.getElementById('questionNumber').textContent = currentQuestion + 1;
            document.getElementById('totalQuestions').textContent = questions.length;
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('currentScore').textContent = score;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionDiv);
            });
            
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('feedback').style.display = 'none';
            
            // Reset timer
            timeLeft = 30;
            updateTimer();
        }

        function selectOption(selectedIndex) {
            const question = questions[currentQuestion];
            const options = document.querySelectorAll('.option');
            
            // Desabilitar todas as op√ß√µes
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            // Marcar a op√ß√£o selecionada
            options[selectedIndex].classList.add('selected');
            
            // Verificar se est√° correta
            if (selectedIndex === question.correct) {
                options[selectedIndex].classList.add('correct');
                score += 10;
                showFeedback('Parab√©ns! Resposta correta! üéâ', 'correct');
            } else {
                options[selectedIndex].classList.add('incorrect');
                options[question.correct].classList.add('correct');
                showFeedback('Ops! A resposta correta √©: ' + question.options[question.correct], 'incorrect');
            }
            
            // Parar o timer
            clearInterval(timer);
            
            // Mostrar bot√£o para pr√≥xima quest√£o
            document.getElementById('nextBtn').style.display = 'inline-block';
            
            // Atualizar pontua√ß√£o
            document.getElementById('currentScore').textContent = score;
        }

        function showFeedback(message, type) {
            const feedback = document.getElementById('feedback');
            feedback.textContent = message;
            feedback.className = `feedback ${type}`;
            feedback.style.display = 'block';
        }

        function nextQuestion() {
            currentQuestion++;
            
            if (currentQuestion < questions.length) {
                showQuestion();
                startTimer();
            } else {
                showResults();
            }
        }

        function startTimer() {
            clearInterval(timer);
            timer = setInterval(() => {
                timeLeft--;
                updateTimer();
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    timeUp();
                }
            }, 1000);
        }

        function updateTimer() {
            const timerElement = document.getElementById('timer');
            if (timerElement) {
                timerElement.textContent = timeLeft + 's';
                
                // Mudar cor do timer quando estiver acabando
                if (timeLeft <= 10) {
                    timerElement.style.background = '#e74c3c';
                } else if (timeLeft <= 20) {
                    timerElement.style.background = '#f39c12';
                } else {
                    timerElement.style.background = '#ff6b6b';
                }
            }
        }

        function timeUp() {
            if (multiplayerMode) {
                const options = document.querySelectorAll('.option');
                const question = questions[currentQuestion];
                
                options.forEach(option => {
                    option.style.pointerEvents = 'none';
                });
                
                options[question.correct].classList.add('correct');
                showMultiplayerFeedback('Tempo esgotado! A resposta correta √©: ' + question.options[question.correct], 'incorrect');
                
                document.getElementById('nextBtn').style.display = 'inline-block';
            } else {
                const options = document.querySelectorAll('.option');
                const question = questions[currentQuestion];
                
                options.forEach(option => {
                    option.style.pointerEvents = 'none';
                });
                
                options[question.correct].classList.add('correct');
                showFeedback('Tempo esgotado! A resposta correta √©: ' + question.options[question.correct], 'incorrect');
                
                document.getElementById('nextBtn').style.display = 'inline-block';
            }
        }

        function showResults() {
            document.querySelector('.quiz-screen').classList.remove('active');
            document.querySelector('.result-screen').classList.add('active');
            
            const correctCount = Math.floor(score / 10);
            const totalQuestions = questions.length;
            const percentage = Math.round((correctCount / totalQuestions) * 100);
            
            document.getElementById('finalScore').textContent = score;
            document.getElementById('correctAnswers').textContent = correctCount;
            document.getElementById('totalCorrect').textContent = totalQuestions;
            
            // Mostrar estrelas baseado na pontua√ß√£o
            const starsContainer = document.getElementById('stars');
            const starCount = Math.min(5, Math.ceil(percentage / 20));
            
            starsContainer.innerHTML = '';
            for (let i = 0; i < 5; i++) {
                const star = document.createElement('span');
                star.className = i < starCount ? 'star' : 'star empty';
                star.textContent = '‚≠ê';
                starsContainer.appendChild(star);
            }
            
            // Mensagem final baseada na pontua√ß√£o
            let message = '';
            if (percentage >= 90) {
                message = 'Excelente! Voc√™ √© um g√™nio! üß†‚ú®';
            } else if (percentage >= 70) {
                message = 'Muito bem! Voc√™ tem um √≥timo conhecimento! üéØ';
            } else if (percentage >= 50) {
                message = 'Bom trabalho! Continue praticando para melhorar! üí™';
            } else {
                message = 'N√£o desanime! A pr√°tica leva √† perfei√ß√£o! üìö';
            }
            
            document.getElementById('finalMessage').textContent = message;
            
            // Atualizar barra de progresso
            document.getElementById('progressBar').style.width = '100%';
        }

        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            timeLeft = 30;
            
            document.querySelector('.result-screen').classList.remove('active');
            document.querySelector('.quiz-screen').classList.add('active');
            
            showQuestion();
            startTimer();
        }

        // Inicializar o quiz
        document.addEventListener('DOMContentLoaded', function() {
            // Adicionar efeitos de som (opcional)
            const buttons = document.querySelectorAll('.btn, .option');
            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    // Adicionar efeito visual
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 100);
                });
            });
        });
    </script>
</body>
</html>
